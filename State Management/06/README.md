# Derived State Calculation Task

## Бизнес-контекст
В современных e-commerce приложениях важно предоставлять пользователям актуальную информацию о состоянии их корзины покупок, включая промежуточные и итоговые расчеты. В этой задаче вам предстоит реализовать компонент корзины покупок с различными вычисляемыми значениями.

## Задача
Создать компонент ShoppingCart, который управляет списком товаров в корзине и автоматически вычисляет различные показатели на основе состояния корзины.

### Функциональные требования

1. Управление товарами:
   - Добавление товара в корзину
   - Изменение количества товара
   - Удаление товара
   - Применение промокода

2. Вычисляемые значения:
   - Подытог (сумма всех товаров)
   - Скидка (процент или фиксированная сумма)
   - Налог (процент от подытога)
   - Стоимость доставки (на основе веса или суммы заказа)
   - Итоговая сумма

3. Дополнительная функциональность:
   - Проверка наличия товара на складе
   - Минимальная сумма заказа
   - Бесплатная доставка при определенной сумме
   - История изменений корзины

### Технические требования

1. State Management:
   - Использование useState для базового состояния
   - Использование useMemo для вычисляемых значений
   - Оптимизация перерендеров

2. TypeScript:
   - Строгая типизация всех интерфейсов
   - Типы для товаров и вычислений
   - Обработка краевых случаев

3. React:
   - Компонентная архитектура
   - Оптимизация производительности
   - Обработка побочных эффектов

4. Тестирование:
   - Тестирование вычислений
   - Тестирование взаимодействия
   - Тестирование граничных случаев

## Процесс проверки

### Автотесты (70%)
- [ ] Корректное добавление товаров
- [ ] Изменение количества товаров
- [ ] Удаление товаров
- [ ] Расчет подытога
- [ ] Применение скидок
- [ ] Расчет налога
- [ ] Расчет доставки
- [ ] Расчет итоговой суммы
- [ ] Проверка минимальной суммы
- [ ] Применение промокода

### Ручная проверка (30%)
- [ ] Корректность всех вычислений
- [ ] Производительность при большом количестве товаров
- [ ] Обработка граничных случаев
- [ ] UX при изменении количества
- [ ] Качество TypeScript типов

## Полезные материалы
- [React Performance](https://react.dev/learn/render-and-commit)
- [useMemo Hook](https://react.dev/reference/react/useMemo)
- [TypeScript Handbook](https://www.typescriptlang.org/docs/handbook/intro.html)
- [Testing Library](https://testing-library.com/docs/react-testing-library/intro/)
